/*!
 * header.js v1.4 | MIT License | (c) 2025 Maksim Postnikov
 * https://postnikovmd.com/mods/header
 */

!function(e){let t=function(){window.scrollY>0&&(window.header.scrollPos=window.header.scrollBreakpoint=window.scrollY),window.addEventListener("scroll",(function(){window.header.autoscroll&&(window.header.autoscroll=!1)}),{once:!0})},n=function(e){function t(){window.header.isHidden||(window.header.isHidden=o(e,"hide"))}function n(){window.header.isHidden&&(window.header.isHidden=o(e,"show"))}window.header.hideOnScroll&&(void 0!==window.header.hideDistance&&(window.pageYOffset>=window.header.scrollPos&&window.pageYOffset>=window.header.scrollBreakpoint+Math.ceil(window.header.hideDistance*window.header.scale.factor)&&!window.header.autoscroll?t():(window.pageYOffset<window.header.scrollPos-Math.ceil(20*window.header.scale.factor)||0===window.pageYOffset&&void 0===window.header.hideOffset)&&(window.header.scrollBreakpoint=window.pageYOffset,n())),void 0!==window.header.hideOffset&&(window.pageYOffset<=window.header.hideOffset&&!window.header.autoscroll?t():void 0!==window.header.hideDistance||window.header.autoscroll||(window.header.scrollBreakpoint=window.pageYOffset,n()))),window.subheader.changeOnScroll&&(window.pageYOffset<Math.ceil(window.subheader.changeOffset*window.header.scale.factor)?window.header.isChanged&&(window.header.isChanged=i(e,"default")):window.header.isChanged||(window.header.isChanged=i(e,"inactive"))),window.header.scrollPos=window.pageYOffset},o=function(e,t){const n=document.querySelector(e+"-container");switch(t){case"hide":return n.classList.contains("tn-header-hidden")||(n.classList.add("tn-header-hidden"),window.header.isChanged=i(e,"default")),!0;case"show":return n.classList.contains("tn-header-hidden")&&n.classList.remove("tn-header-hidden"),!1;default:return n.classList.contains("tn-header-hidden")?(n.classList.remove("tn-header-hidden"),!1):(n.classList.add("tn-header-hidden"),window.header.isChanged=i(e,"default"),!0)}},i=function(e,t){const n=document.querySelector(e+"-container");switch(t){case"inactive":return n.classList.contains("tn-subheader-hidden")||n.classList.add("tn-subheader-hidden"),!0;case"default":return n.classList.contains("tn-subheader-hidden")&&n.classList.remove("tn-subheader-hidden"),!1;default:return n.classList.contains("tn-subheader-hidden")?(n.classList.remove("tn-subheader-hidden"),!1):(n.classList.add("tn-subheader-hidden"),!0)}},s=function(e){const t=document.querySelector(e),n=t.querySelectorAll(window.header.pages),o=t.querySelectorAll(window.header.elems.selector);o&&o.forEach((e=>e.classList.add("page-elems"))),n.forEach(((t,n)=>{t.addEventListener("mouseenter",(()=>{t.classList.add("hover"),t_changeState(e,window.header,n,"hover")})),t.addEventListener("mouseleave",(()=>{t.classList.remove("hover"),o.forEach((e=>e.classList.remove("hover")))}))}))},a=function(e){const t=document.querySelector(e),n=t.querySelectorAll(window.header.pages),o=(t.querySelectorAll(window.header.elems.selector),window.location.pathname);n.forEach(((t,n)=>{const i=t.querySelector("a");if(i){i.getAttribute("href")===o&&(t.classList.add("current"),t_changeState(e,window.header,n,"current"))}}))},d=function(e){let t=".t-header-container { --header-height: "+window.header.height+"px; --header-transition: "+window.header.transition+"ms; --header-easing: "+window.header.easing+"} ",n="";void 0!==e.style&&(n=t_getStyle(".tn-header",e));let o=document.createElement("style");if(document.querySelector(".style-header")&&document.querySelector(".style-header").remove(),o.classList.add("style-header"),o.textContent=t+n,document.querySelector(".t-header-container").appendChild(o),!window.header.loaded){let e=document.createElement("link");e.rel="stylesheet",e.href="https://cdn.postnikovmd.com/tilda@"+window.header.version+"/header.min.css",document.head.appendChild(e),window.header.load=!0}},r=function(e,t){const o=document.querySelector(e),i=document.querySelector(e+"-container"),s=o.getAttribute("id").substring(3);setTimeout((function(){window.header.height=o.offsetHeight,window.tn&&window.tn["ab"+s]&&void 0!==window.tn["ab"+s].scaleFactor?window.header.scale.factor=window.tn["ab"+s].scaleFactor:void 0!==window.scale_factor?window.header.scale.factor=window.scale_factor:window.header.scale.factor=1;const a=i.querySelector("style.style-header");a&&a.remove(),d(t),n(e)}),100)},c=function(e){const t=document.querySelector(e),n=t.querySelectorAll(window.subheader.pages),o=t.querySelectorAll(window.subheader.elems.selector);o&&o.forEach((e=>e.classList.add("page-elems"))),n.forEach(((t,n)=>{t.addEventListener("mouseenter",(()=>{t.classList.add("hover"),t_changeState(e,window.subheader,n,"hover")})),t.addEventListener("mouseleave",(()=>{t.classList.remove("hover"),o.forEach((e=>e.classList.remove("hover")))}))}))},l=function(e){let t=".t-header-container { --subheader-height: "+window.subheader.height+"px; --subheader-transition: "+window.subheader.transition+"ms; --subheader-easing: "+window.subheader.easing+"} ",n="";void 0!==e.style&&(n=t_getStyle(".tn-subheader",e));let o=document.createElement("style");document.querySelector(".style-subheader")&&document.querySelector(".style-subheader").remove(),o.classList.add("style-subheader"),o.textContent=t+n,document.querySelector(".t-header-container").appendChild(o)},u=function(e,t){const n=document.querySelector(e),o=document.querySelector(".t-header-container"),i=n.getAttribute("id").substring(3);setTimeout((function(){window.subheader.height=n.offsetHeight,window.tn&&window.tn["ab"+i]&&void 0!==window.tn["ab"+i].scaleFactor?window.subheader.scale.factor=window.tn["ab"+i].scaleFactor:void 0!==window.scale_factor?window.subheader.scale.factor=window.scale_factor:window.subheader.scale.factor=1;const e=o.querySelector("style.style-subheader");e&&e.remove(),l(t)}),100)},h=function(e,t,n){let o=document.querySelectorAll(e)[n],i=document.querySelector(".t-header-container").querySelectorAll(window.submenu.link.selector)[n];i&&i.classList.add("tn-submenu-link");let s=document.querySelectorAll(window.submenu.link.elems);s.length&&s.forEach((e=>e.classList.add("tn-submenu-elem")));let a=()=>{if(o.classList.add("hover"),m(e,t,n,"show"),i&&i.classList.add("hover"),s.length){s.forEach((e=>e.classList.remove("hover")));let e=window.submenu.link.elems.split(",");if(e.length>1&&e.length===window.submenu.link.elemsAmount)for(let t=0;t<window.submenu.link.elemsAmount;t++){let o=e[t].trim(),i=document.querySelectorAll(o);i[n]&&i[n].classList.add("hover")}else for(let e=0;e<window.submenu.link.elemsAmount;e++)s[n*window.submenu.link.elemsAmount+e].classList.add("hover")}};const d=()=>{o.classList.remove("hover"),m(e,t,n,"hide"),i.classList.remove("hover"),s.forEach((e=>e.classList.remove("hover")))};i&&(i.addEventListener("mouseenter",a),i.addEventListener("mouseleave",d)),o.addEventListener("mouseenter",a),o.addEventListener("mouseleave",d),o.querySelector(".t396__carrier").addEventListener("mouseenter",(()=>{o.classList.remove("hover"),m(e,t,n,"hide")}))},w=function(e,t){const n=document.querySelectorAll(e)[t],o=n.querySelectorAll(window.submenu.pages),i=n.querySelectorAll(window.submenu.elems.selector);i.forEach((e=>e.classList.add("page-elems"))),o.forEach(((n,o)=>{n.addEventListener("mouseenter",(()=>{n.classList.add("hover"),t_changeState(e,window.submenu,o,"hover",t)})),n.addEventListener("mouseleave",(()=>{n.classList.remove("hover"),i.forEach((e=>e.classList.remove("hover")))}))}))},m=function(e,t,n,o){const i=document.querySelector(".t-header-container"),s=document.querySelectorAll(e)[n];switch(o){case"hide":return s.classList.contains("hidden")||(i.classList.remove("tn-submenu-open"),s.classList.add("hidden"),setTimeout((function(){s.classList.contains("hidden")&&t.animate&&t_animateElems(s,"reset")}),t.transition)),!0;case"show":return s.classList.contains("hidden")&&(i.classList.add("tn-submenu-open"),s.classList.remove("hidden"),t.animate&&t_animateElems(s,"start")),!1;default:return s.classList.contains("hidden")?(i.classList.add("tn-submenu-open"),s.classList.remove("hidden"),t.animate&&t_animateElems(s,"start"),!1):(i.classList.remove("tn-submenu-open"),s.classList.add("hidden"),setTimeout((function(){s.classList.contains("hidden")&&t.animate&&t_animateElems(s,"reset")}),t.transition),!0)}},f=function(e,t){const n=document.querySelectorAll(e)[t].querySelectorAll(window.submenu.pages),o=window.location.pathname;n.forEach(((n,i)=>{const s=n.querySelector("a");(s?s.getAttribute("href"):"")===o&&(n.classList.add("current"),t_changeState(e,window.submenu,i,"current",t))}))},v=function(e){let t=document.querySelectorAll(".tn-submenu"),n=".t-header-container { --submenu-max-height: "+window.innerHeight+"px; --submenu-transition: "+window.submenu.transition+"ms; --submenu-easing: "+window.submenu.easing+"; ",o="";void 0!==e.style&&(o=t_getStyle(".tn-submenu",e),void 0!==e.style.link&&(void 0!==e.style.link.color&&(t.forEach((t=>{t.setAttribute("data-link-color",e.style.link.color)})),n+="--link-color: "+e.style.link.color+"; "),void 0!==e.style.link.backgroundColor&&(t.forEach((t=>{t.setAttribute("data-link-bgcolor",e.style.link.backgroundColor)})),n+="--link-bgcolor: "+e.style.link.backgroundColor+"; "),void 0!==e.style.link.borderColor&&(t.forEach((t=>{t.setAttribute("data-link-bordercolor",e.style.link.borderColor)})),n+="--link-bordercolor: "+e.style.link.borderColor+"; "),void 0!==e.style.link.opacity&&(t.forEach((t=>{t.setAttribute("data-link-opacity",e.style.link.opacity)})),n+="--link-opacity: "+e.style.link.opacity+"; ")));let i=document.createElement("style");document.querySelector(".style-submenu")&&document.querySelector(".style-submenu").remove(),i.classList.add("style-submenu"),i.textContent=n+"} "+o,document.querySelector(".t-header-container").appendChild(i)},b=function(e){const t=document.querySelector(".t-header-container");setTimeout((function(){const n=t.querySelector("style.style-submenu");n&&n.remove(),v(e)}),100)},y=function(e,t,n){let o=document.querySelector(".t-header-container"),i=document.querySelector(e),s=document.querySelectorAll(".menu-open"),a=document.querySelectorAll(".menu-close"),d=document.querySelector("body");switch(n){case"open":return o.classList.add("tn-menu-open"),i.classList.remove("hidden"),t.single||(s.forEach((e=>{e.classList.remove("active"),e.classList.add("inactive")})),a.forEach((e=>{e.classList.remove("inactive"),e.classList.add("active")}))),d.classList.add("body-noscroll"),t.animate&&t_animateElems(i,"start"),!1;case"close":return o.classList.remove("tn-menu-open"),i.classList.add("hidden"),t.single||(s.forEach((e=>{e.classList.remove("inactive"),e.classList.add("active")})),a.forEach((e=>{e.classList.remove("active"),e.classList.add("inactive")}))),d.classList.remove("body-noscroll"),setTimeout((function(){i.classList.contains("hidden")&&t.animate&&t_animateElems(i,"reset")}),t.transition),!0;default:return i.classList.contains("hidden")?(o.classList.add("tn-menu-open"),i.classList.remove("hidden"),t.single||(s.forEach((e=>{e.classList.remove("active"),e.classList.add("inactive")})),a.forEach((e=>{e.classList.remove("inactive"),e.classList.add("active")}))),d.classList.add("body-noscroll"),t.animate&&t_animateElems(i,"start"),!1):(o.classList.remove("tn-menu-open"),i.classList.add("hidden"),t.single||(s.forEach((e=>{e.classList.remove("inactive"),e.classList.add("active")})),a.forEach((e=>{e.classList.remove("active"),e.classList.add("inactive")}))),d.classList.remove("body-noscroll"),setTimeout((function(){i.classList.contains("hidden")&&t.animate&&t_animateElems(i,"reset")}),t.transition),!0)}},g=function(e){const t=document.querySelector(e),n=t.querySelectorAll(window.menu.pages),o=t.querySelectorAll(window.menu.elems.selector);o.forEach((e=>e.classList.add("tn-page-elem"))),n.forEach(((t,n)=>{t.addEventListener("mouseenter",(()=>{t.classList.add("hover"),t_changeState(e,window.menu,n,"hover")})),t.addEventListener("mouseleave",(()=>{t.classList.remove("hover"),o.forEach((e=>e.classList.remove("hover")))}))}))},p=function(e){const t=document.querySelector(e),n=t.querySelectorAll(window.menu.pages),o=(t.querySelectorAll(window.menu.elems.selector),window.location.pathname);n.forEach(((t,n)=>{const i=t.querySelector("a");i&&i.getAttribute("href")===o&&(t.classList.add("current"),t_changeState(e,window.menu,n,"current"))}))},L=function(e){const t=document.querySelector(e);switch(window.menu.animation){case"roll":default:t.classList.add("animation-roll");break;case"fade":t.classList.add("animation-fade");break;case"fade-left":t.classList.add("animation-fade-left");break;case"fade-right":t.classList.add("animation-fade-right");break;case"fade-up":t.classList.add("animation-fade-up");break;case"fade-down":t.classList.add("animation-fade-down");break;case"zoom":t.classList.add("animation-zoom")}},E=function(e){let t=".t-header-container { --menu-max-height: "+window.innerHeight+"px; --menu-transition: "+window.menu.transition+"ms; --menu-easing: "+window.menu.easing+"} ",n="";void 0!==e.style&&(n=t_getStyle(".tn-menu",e));let o=document.createElement("style");document.querySelector(".style-menu")&&document.querySelector(".style-menu").remove(),o.classList.add("style-menu"),o.textContent=t+n,document.querySelector(".t-header-container").appendChild(o)},S=function(e){const t=document.querySelector(`${window.header.selector}-container`);setTimeout((function(){t.querySelector("style.style-menu").remove(),E(e)}),100)},q=function(e){let t=":root { --search-transition: "+e.transition+"ms; --search-easing: "+e.easing+" }",n=document.createElement("style");n.classList.add("style-search"),n.textContent=t+".t-header-container .tn-search-container{transition:var(--search-transition) var(--search-easing)}.t-header-container .tn-search-container.inactive{opacity:0!important}.t-header-container .tn-search .t-site-search-popup{margin-top:var(--header-height)}.t-header-container[data-subheader] .tn-search .t-site-search-popup{margin-top:calc(var(--header-height) + var(--subheader-height))}.t-header-container[data-subheader] .tn-search .t-site-search-popup__background{height:100vh;overflow-y:visible!important}.t-header-container.load .tn-search-container{transition:none!important}html:has(.t-header-container.load) .tn-search{display:none!important}",document.querySelector(".t-header-container").appendChild(n)},_=function(e){const t=document.querySelector(".t-header-container");setTimeout((function(){const n=t.querySelector("style.style-search");n&&n.remove(),t.style.zoom=window.header.scale.factor,q(e)}),100)};window.t_getCurrentScale=function(e){let t,n=1;if(void 0===e)void 0!==window.tn_scale_factor&&(n=window.tn_scale_factor);else{let o=document.querySelector(e);if(o){let e=o.getAttribute("id").replace("rec","");window.tn?window.tn["ab"+e]&&window.tn["ab"+e].scaleFactor&&(window.rescale&&window.rescale["ab"+e]&&!window.rescale.disabled?t=void 0!==window.rescale["ab"+e].breakpoints[1]?window.rescale["ab"+e].breakpoints[1]:window.rescale["ab"+e].breakpoints[0]:(t=window.tn["ab"+e].canvas_min_width,t>window.tn["ab"+e].curResolution_max&&(t=window.tn["ab"+e].curResolution_max)),n=window.tn["ab"+e].scaleFactor):void 0!==window.tn_scale_factor&&(n=window.tn_scale_factor)}}return{breakpoint:t,factor:n}},window.t_changeState=function(e,t,n,o,i){if(void 0===i)i=0;const s=document.querySelectorAll(e)[i],a=s.querySelectorAll(t.elems);if(a.length>0){a.forEach((e=>e.classList.remove(o)));let e=t.elems.split(",");if(e.length>1&&e.length===t.elemsAmount)for(let i=0;i<t.elemsAmount;i++){let t=e[i].trim(),a=s.querySelectorAll(t);a[n]&&a[n].classList.add(o)}else for(let e=0;e<t.elemsAmount;e++){let i=a[n*t.elemsAmount+e];i&&i.classList.add(o)}}},window.t_getStyle=function(e,t){let n={active:["color","backgroundColor","borderColor","opacity","fontWeight","fontUnderline"],hover:["color","backgroundColor","borderColor","opacity"],elems:["opacity"]},o={color:"color",backgroundColor:"bgcolor",borderColor:"bordercolor",opacity:"opacity",fontWeight:"font-weight",fontUnderline:"font-underline",blur:"blur"},i=e+"{ ",s=document.querySelectorAll(e);return Object.keys(n).forEach((e=>{t.style[e]&&n[e].forEach((n=>{if(void 0!==t.style[e][n]&&o[n]){const a="--"+e+"-"+o[n],d="data-"+e+"-"+o[n];s.forEach((o=>o.setAttribute(d,t.style[e][n]))),i+=a+": "+t.style[e][n]+"; "}}))})),["blur","shadow","opacity"].forEach((e=>{if(void 0!==t.style[e]&&o[e]){const n="--"+e,o="data-"+e;s.forEach((n=>n.setAttribute(o,t.style[e]))),i+=n+": "+t.style[e]+"; "}})),i+"}"},window.t_animateElems=function(e,t){if("function"==typeof t_animate__init){let n=e.querySelectorAll(".tn-elem.t-animate");if(n.length>0)switch(t){case"start":n.forEach((e=>{e.classList.contains("t-animate_wait")&&(e.classList.remove("t-animate_wait"),e.classList.add("t-animate_started"))}));break;case"reset":n.forEach((e=>{e.classList.contains("t-animate_started")&&(e.classList.remove("t-animate_started"),e.classList.add("t-animate_wait"))}));break;default:n.forEach((e=>{e.classList.contains("t-animate_wait")?(e.classList.remove("t-animate_wait"),e.classList.add("t-animate_started")):(e.classList.remove("t-animate_started"),e.classList.add("t-animate_wait"))}))}}if("function"==typeof t_animationSBS__init){let n=Array.from(e.querySelectorAll(".tn-elem[data-animate-sbs-opts]")).filter((e=>{let t=e.getAttribute("data-animate-sbs-event");return"hover"!==t&&"click"!==t}));if(n.length>0)switch(t){case"start":n.forEach((e=>{e.classList.contains("t-sbs-anim_started")||e.classList.add("t-sbs-anim_started")}));break;case"reset":n.forEach((e=>{e.classList.contains("t-sbs-anim_started")||e.classList.remove("t-sbs-anim_started")}));break;default:n.forEach((e=>{e.classList.contains("t-sbs-anim_started")?e.classList.remove("t-sbs-anim_started"):e.classList.add("t-sbs-anim_started")}))}}},window.t_catchEvent=function(e,t){let n=new Set,o=new Set;e.split(", ").map((function(e){return e.trim()})).forEach((function(e){o.add(e),window.addEventListener(e,(function(){n.add(e),n.size===o.size&&t()}))}))},window.t_sendError=function(e,t,n){window.mods||(window.mods={}),window.mods.errors||(window.mods.errors=[]),void 0===n&&(n="error");let o,i,s=e.indexOf("-");if(-1!==s?(o=e.substring(0,s),i=e.substring(s+1)):(o=e,i=void 0),!window.mods.errors.some((function(e){return e.message===t}))){let e={mod:o,type:n};void 0!==i&&(e.id=i),void 0!==t&&(e.message=t),window.mods.errors.push(e)}switch(n){case"error":n="Ошибка",console.error("["+o+".js] "+n+": "+t);break;case"warn":n="Предупреждение",console.warn("["+o+".js] "+n+": "+t)}},void 0===window.postnikovmd&&(window.postnikovmd="Maksim Postnikov, https://postnikovmd.com"),e.header={init:function(e,i){i=i||{},i={selector:e,pages:".page",elems:".page-elem",transition:300,easing:"ease-in-out",...i},void 0===window.header&&(window.header={}),window.header={...window.header,...i};let c=function(){let c=document.querySelector(e);if(c){c.classList.add("tn-header"),c.style="transition: none !important";let u=c.querySelectorAll(i.pages),h=Array.from(c.querySelectorAll(i.elems));var l;h.forEach((e=>e.classList.add("page-elems"))),window.header.elemsAmount=Math.ceil(h.length/u.length),window.header.top=c.getBoundingClientRect().top,c.insertAdjacentHTML("beforebegin",`<div class="${e.substring(1)}-container t-header-container"></div>`),window.header.autoscroll=!0;let w=document.querySelector(e+"-container");w.style="opacity: 0; transition: none",w.appendChild(c),w.classList.add("load");let m=".t-header-container.load,.t-header-container.load .tn-header{visibility:hidden!important;transition:none!important}",f=document.createElement("style");f.textContent=m,document.querySelector(".t-header-container").appendChild(f),void 0===i.hideOffset&&void 0===i.hideOffsetMobile||(void 0!==i.hideOffset&&(window.header.hideOffset=i.hideOffset),void 0!==i.hideOffsetMobile&&window.innerWidth<480&&(window.header.hideOffset=i.hideOffsetMobile),window.header.hideOffset>0?(window.header.hideOnScroll=!0,w.setAttribute("data-scroll-hide",""),window.header.autoscroll||o(e,"hide")):window.header.hideOnScroll=!1),void 0===i.hideDistance&&void 0===i.hideDistanceMobile||(void 0!==i.hideDistance&&(window.header.hideDistance=i.hideDistance),void 0!==i.hideDistanceMobile&&window.innerWidth<480&&(window.header.hideDistance=i.hideDistanceMobile),0!==window.header.hideDistance?(window.header.hideOnScroll=!0,w.setAttribute("data-scroll-hide","")):window.header.hideOnScroll=!1),d(i),t_onReady((function(){setTimeout((function(){window.header.scale=t_getCurrentScale(e),window.header.height=c.offsetHeight,r(e,i),(window.header.hideOnScroll||window.subheader.changeOnScroll)&&(window.header.isHidden=!1,window.header.isChanged=!1,window.header.scrollPos=0,window.header.scrollBreakpoint=0,n(e),window.addEventListener("scroll",(()=>n(e)))),u.length>0&&(s(e),a(e)),"complete"===document.readyState?t():window.addEventListener("load",t),setTimeout((function(){w.classList.remove("load"),w.removeAttribute("style"),c.removeAttribute("style"),c.classList.remove("t-header-loading"),setTimeout((function(){c.classList.remove("t-header-locked")}),10)}),100),window.addEventListener("load",(function(){w.classList.contains("load")&&(w.classList.remove("load"),w.removeAttribute("style"),c.removeAttribute("style"),c.classList.remove("t-header-loading"),setTimeout((function(){c.classList.remove("t-header-locked")}),10))}),100),window.addEventListener("resize",(function(){clearTimeout(l),l=setTimeout((function(){r(e,i)}),500)}))}),300)})),void 0===window.header.state&&(window.header.state="init",window.dispatchEvent(new Event("headerinit")))}else t_sendError("header-no-header","Хэдер не найден ("+e+")")};void 0===i.event?t_onReady((function(){setTimeout((function(){c()}),300)})):void 0===i.timeout||isNaN(i.timeout)?t_catchEvent(i.event,(function(){c()})):t_catchEvent(i.event,(function(){setTimeout((function(){c()}),Math.max(i.timeout,0))}))},version:"1.4",license:"MIT License: https://postnikovmd.com/mods/license",copyright:"© 2025 Maksim Postnikov"},e.subheader={init:function(e,t){t=t||{},t={selector:e,pages:".page",elems:".page-elem",transition:300,easing:"ease-in-out",...t},void 0===window.subheader&&(window.subheader={}),window.subheader={...window.subheader,...t};let n=function(){let n=document.querySelector(".t-header-container");if(n){let o=".tn-subheader.load{opacity:0!important;visibility:hidden!important;transition:none!important}",i=document.createElement("style");i.textContent=o,n.appendChild(i);let s=document.querySelector(e);if(s){if(s.classList.add("load"),n){s.classList.add("tn-subheader"),n.setAttribute("data-subheader","");const o=s.querySelectorAll(t.pages),i=Array.from(s.querySelectorAll(t.elems));let a;i.forEach((e=>e.classList.add("page-elems"))),void 0===t.changeOffset&&void 0===t.changeOffsetMobile||(void 0!==t.changeOffset&&(window.subheader.changeOffset=t.changeOffset),void 0!==t.changeOffsetMobile&&window.innerWidth<480&&(window.subheader.changeOffset=t.changeOffsetMobile),0!==window.subheader.changeOffset?(window.subheader.changeOnScroll=!0,n.setAttribute("data-scroll-change","")):window.subheader.changeOnScroll=!1),0===window.header.top?(window.subheader.position="bottom",n.setAttribute("data-subheader-pos","bottom"),n.appendChild(s)):(window.subheader.position="top",n.setAttribute("data-subheader-pos","top"),n.insertBefore(s,n.firstChild)),l(t),t_onReady((function(){setTimeout((function(){window.subheader.scale=t_getCurrentScale(e),window.subheader.height=s.offsetHeight,window.subheader.height<=1&&(window.subheader.height=0),window.subheader.padding=window.subheader.height,window.subheader.padding<=0&&(window.subheader.padding=0),window.subheader.elemsAmount=Math.ceil(i.length/o.length),window.subheader.elemsAmount<=0&&(window.subheader.elemsAmount=0),o.length>0&&(c(e),u(e,t)),s.classList.remove("load"),setTimeout((function(){s.classList.remove("t-header-loading")}),window.header.transition||t.transition),window.addEventListener("load",(function(){s.classList.remove("load","t-header-loading")})),window.addEventListener("resize",(()=>{clearTimeout(a),a=setTimeout((function(){u(e,t)}),500)}))}),300)}))}}else t_sendError("header-no-subheader","Дополнительное меню не найдено ("+e+")")}else t_sendError("header-requires-header","Для работы модификации необходим хэдер: https://postnikovmd.com/mods/header")};void 0===t.event?window.header&&"init"===window.header.state?n():window.addEventListener("headerinit",(function(){n()})):void 0===t.timeout||isNaN(t.timeout)?t_catchEvent(t.event,(function(){n()})):t_catchEvent(t.event,(function(){setTimeout((function(){n()}),Math.max(t.timeout,0))}))},version:window.header.version,license:window.header.license,copyright:window.header.copyright},e.submenu={init:function(e,t){t=t||{},t={selector:e,pages:".page",elems:".page-elem",link:{selector:".submenu",elems:".submenu-elem"},animate:!0,transition:300,easing:"ease-in-out",...t},void 0===window.submenu&&(window.submenu={}),window.submenu={...window.submenu,...t};let n=function(){const n=document.querySelectorAll(e);if(n.length){const o=document.querySelector(".t-header-container");if(o){let i,s=".tn-submenu.load{opacity:0!important;visibility:hidden!important;transition:none!important}",a=document.createElement("style");a.textContent=s,o.appendChild(a),n.forEach(((n,i)=>{n.classList.add("tn-submenu","load"),o.appendChild(n),m(e,t,i,"hide")})),v(t),t_onReady((function(){setTimeout((function(){const o=e.split(",");o.length>1&&o.length===submenu.length?o.forEach(((n,o)=>{n=n.trim();const i=document.querySelector(n);if(i){const n=i.querySelector(".t396__filter"),s=i.querySelector(".t396");n&&s&&s.prepend(n);const a=i.querySelectorAll(t.pages),d=i.querySelectorAll(t.elems);d.forEach((e=>e.classList.add("page-elems")));document.querySelectorAll(t.link.selector).forEach((e=>e.classList.add("tn-submenu-link")));const r=i.querySelectorAll(t.link.elems);r.forEach((e=>e.classList.add("tn-submenu-elem"))),window.submenu.elemsAmount=Math.ceil(d.length/a.length),window.submenu.elemsAmount=window.submenu.elemsAmount<=0?0:window.submenu.elemsAmount,window.submenu.link.elemsAmount=r.length,window.submenu.link.elemsAmount=window.submenu.link.elemsAmount<=0?0:window.submenu.link.elemsAmount,m(e,t,o,"hide"),h(e,t,o),a.length>0&&(w(e,o),f(e,o))}})):n.forEach(((n,o)=>{const i=n.querySelector(".t396__filter"),s=n.querySelector(".t396");i&&s&&s.prepend(i);const a=n.querySelector(e),d=n.querySelector(".t396__filter");a&&d&&(d.contains(a)||d.prepend(a));const r=n.querySelectorAll(t.pages),c=n.querySelectorAll(t.elems);c.forEach((e=>e.classList.add("page-elems")));const l=document.querySelectorAll(t.link.selector);l.forEach((e=>e.classList.add("tn-submenu-link")));const u=document.querySelectorAll(t.link.elems);u.forEach((e=>e.classList.add("tn-submenu-elem"))),window.submenu.elemsAmount=Math.ceil(c.length/r.length),window.submenu.elemsAmount.length<=0&&(window.submenu.elemsAmount=0),window.submenu.link.elemsAmount=Math.ceil(u.length/l.length),window.submenu.link.elemsAmount.length<=0&&(window.submenu.link.elemsAmount=0),m(e,t,o,"hide"),h(e,t,o),w(e,o),f(e,o)})),n.forEach((e=>{e.classList.remove("load","t-header-loading")})),window.addEventListener("load",(function(){n.forEach((e=>{e.classList.remove("load","t-header-loading")}))})),window.addEventListener("resize",(()=>{clearTimeout(i),i=setTimeout((function(){b(t)}),500)}))}),300)}))}else t_sendError("header-requires-header","Для работы модификации необходим хэдер: https://postnikovmd.com/mods/header")}else t_sendError("header-no-submenu","Выпадающие меню не найдены ("+e+")")};void 0===t.event?window.header&&"init"===window.header.state?n():window.addEventListener("headerinit",(function(){n()})):void 0===t.timeout||isNaN(t.timeout)?t_catchEvent(t.event,(function(){n()})):t_catchEvent(t.event,(function(){setTimeout((function(){n()}),Math.max(t.timeout,0))}))},version:window.header.version,license:window.header.license,copyright:window.header.copyright},e.menu={init:function(e,t){t=t||{},t={selector:e,pages:".page",elems:".page-elem",open:"#menu",close:"#menu-close",transition:300,easing:"ease-in-out",animate:!0,animation:"roll",fullscreen:!1,...t},void 0===window.menu&&(window.menu={}),window.menu={...window.menu,...t};let n=function(){var n=document.querySelector(e);if(n){n.classList.add("tn-menu","load");var o=document.querySelector(".t-header-container");if(o){o.appendChild(n);let r=".tn-menu.load{opacity:0!important;visibility:hidden!important;transition:none!important}",c=document.createElement("style");c.textContent=r,o.appendChild(c);var i=n.querySelector(".t396__filter"),s=n.querySelector(".t396");i&&s&&s.insertBefore(i,s.firstChild),window.menu.isHidden=!0,n.classList.add("tn-ready"),window.menu.fullscreen&&o.setAttribute("data-menu-fullscreen","");var a=n.querySelectorAll(t.pages);a.forEach((e=>e.classList.add("tn-page")));var d=n.querySelectorAll(t.elems);d.forEach((e=>e.classList.add("tn-page-elem"))),window.menu.elemsAmount=Math.ceil(d.length/a.length)||0,E(t),t_onReady((function(){setTimeout((function(){var o=document.querySelectorAll('a[href="'+window.menu.open+'"]');o.forEach((e=>{let t=e.closest(".tn-elem");t&&(t.classList.add("menu-open"),t.querySelectorAll("a").forEach((e=>e.removeAttribute("href"))))})),o=document.querySelectorAll(".menu-open");var i=document.querySelectorAll('a[href="'+window.menu.close+'"]');i.forEach((e=>{let t=e.closest(".tn-elem");t&&(t.classList.add("menu-close"),t.querySelectorAll("a").forEach((e=>e.removeAttribute("href"))))})),i=document.querySelectorAll(".menu-close");var s=document.querySelectorAll(e+" .t396__carrier, "+e+" a");let d;o.length>0&&(i.length>0?(o.forEach((n=>{n.addEventListener("click",(function(){window.menu.isHidden&&(window.menu.isHidden=y(e,t,"open"))})),window.menu.fullscreen&&n.classList.add("fullscreen")})),i.forEach((n=>{n.addEventListener("click",(function(){window.menu.isHidden||(window.menu.isHidden=y(e,t,"close"))})),window.menu.fullscreen&&n.classList.add("fullscreen")})),t.single=!1):(o.forEach((n=>{n.addEventListener("click",(function(){window.menu.isHidden=y(e,t)})),n.classList.add("single")})),t.single=!0),s.forEach((n=>{n.addEventListener("click",(function(){window.menu.isHidden||(window.menu.isHidden=y(e,t,"close"))}))}))),a.length>0&&(g(e),p(e)),y(e,t,"close"),L(e),n.classList.remove("tn-ready"),n.classList.remove("load","t-header-loading"),window.addEventListener("load",(function(){n.classList.remove("load","t-header-loading")})),window.addEventListener("resize",(function(){clearTimeout(d),d=setTimeout((function(){S(t)}),500)}))}),300)}))}else t_sendError("header-requires-header","Для работы модификации необходим хэдер: https://postnikovmd.com/mods/header")}else t_sendError("header-no-menu","Меню не найдено ("+e+")")};void 0===t.event?window.header&&"init"===window.header.state?n():window.addEventListener("headerinit",(function(){n()})):void 0===t.timeout||isNaN(t.timeout)?t_catchEvent(t.event,(function(){n()})):t_catchEvent(t.event,(function(){setTimeout((function(){n()}),Math.max(t.timeout,0))}))},version:window.header.version,license:window.header.license,copyright:window.header.copyright},e.search={init:function(e,t){t=t||{},t={container:".search",transition:300,easing:"ease-in-out",...t},void 0===window.search&&(window.search={}),window.search={...window.search,...t};let n=function(){const n=document.querySelector(e);if(n){let o;n.classList.add("tn-search"),q(t),t_onReady((function(){setTimeout((function(){const i=document.querySelectorAll(t.container);i?(i.forEach((e=>{e.classList.add("tn-search-container")})),i.forEach(((e,t)=>{e.innerHTML="",t<i.length-1?e.appendChild(n.cloneNode(!0)):e.appendChild(n)})),i.forEach((e=>{e.style.zoom=window.header.scale.factor})),t_onFuncLoad("t_search__init",(function(){"function"==typeof t_search__init&&t_search__init()})),window.addEventListener("resize",(()=>{clearTimeout(o),o=setTimeout((function(){_(t)}),500)}))):t_sendError("header-no-search-container","Не найден контейнер "+t.container+" для встраивания поиска ("+e+")")}),300)}))}else t_sendError("header-no-search","Не найден блок поиска T838 ("+e+")")};void 0===t.event?window.header&&"init"===window.header.state?n():window.addEventListener("headerinit",(function(){n()})):void 0===t.timeout||isNaN(t.timeout)?t_catchEvent(t.event,(function(){n()})):t_catchEvent(t.event,(function(){setTimeout((function(){n()}),Math.max(t.timeout,0))}))},version:window.header.version,license:window.header.license,copyright:window.header.copyright}}(window);